Lors de la réception d’un rappel de mise à jour de l’adresse de livraison ou de mise à jour de l’option de livraison, votre bot reçoit l’état actuel des détails de paiement du client dans la propriété `Activity.Value`.
En tant que vendeur, vous devez considérer ces rappels comme statiques ; avec les détails de paiement d’entrée, vous allez calculer des détails de paiement de sortie, et échouer si l’état de l’entrée fourni par le client n’est pas valide pour une raison quelconque. Si le bot détermine que les informations données sont valides en l’état, envoyez simplement le code d’état HTTP `200 OK` ainsi que les détails de paiement non modifiés. Le bot peut également envoyer le code d’état HTTP `200 OK` avec des détails de paiement mis à jour qui doivent être appliqués avant de pouvoir traiter la commande. Dans certains cas, votre bot peut déterminer que les informations mises à jour ne sont pas valides et que la commande ne peut pas être traitée telle quelle. Par exemple, l’adresse de livraison de l’utilisateur peut spécifier un pays dans lequel le fournisseur du produit n’effectue pas de livraison. Dans ce cas, le bot peut envoyer le code d’état HTTP `200 OK` et un message pour renseigner la propriété d’erreur de l’objet des détails de paiement. L’envoi d’un code d’état HTTP compris entre `400` et `500` entraîne une erreur générique pour le client.
